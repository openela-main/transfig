Subject: [PATCH] Fix pstricks fill with non-solid default color

In the pstricks output, filling an area with the shaded or tinted default color
is now equivalent to filling with shaded or tinted black color.
---
 fig2dev/dev/genpstricks.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/fig2dev/dev/genpstricks.c b/fig2dev/dev/genpstricks.c
index cf49207..40ea577 100644
--- a/fig2dev/dev/genpstricks.c
+++ b/fig2dev/dev/genpstricks.c
@@ -1856,7 +1856,8 @@ format_options(char *options, char *prefix, char *postfix, char *sqrb_init,
     else if (fill_style <= 40)
       /* shade or tint fill */
       sprintf(tmps, "fillstyle=solid,fillcolor=%s",
-	      shade_or_tint_name_after_declare_color(tmpc, fill_style, fill_color));
+	      shade_or_tint_name_after_declare_color(tmpc, fill_style,
+		      fill_color == DEFAULT ? CT_BLACK : fill_color));
     else {
       char *type = 0, *ps;
       int angle = 0;
-- 
2.31.1

